{{ $page := . }}
{{- $menu := delimit (slice "menu" .Page.Lang) "." }}
<div class="well" data-id="menu" style="background-color: #e0f0fc; background-image: none;">
{{- range $.Site.Data }}
  {{- range index . (string $menu) }}
    {{- partial "doc/menu-level.html" (dict "context" . "page" $page) }}
  {{- end }}
{{- end }}
</div>
<script>
  $("[data-id=menu] > ul").find("ul").hide();
  $("div[data-id=menu] > ul > li").click((event) => {
    var target = $( event.target );
    if(target.is( "div[data-id=menu] > ul > li" )) {
      target.children().toggle();
    }
  });
  $("[data-id=menu] [href=\"" + window.location.pathname + "\"]").parent().parent().toggle();
</script>
